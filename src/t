#:lib/!.sh

#:lib/color.sh
#:lib/flag.sh
#:lib/self.sh
#:lib/ui.sh

#:cmd/t.sh

if [[ "${BASH_SOURCE[0]}" = "$0" ]]; then
	#/help/
	#/command/

	.source() {
		echo "readonly _SELF=$(self.path)"
		echo
		sed 's/^\t\t//' <<'EOF'
			#:lib/!.sh
			#:lib/defer.sh
			#:lib/temp.sh: temp.dir temp.clean
			#:cmd/t.sh
			#:src/t.sh
EOF
	}

	#:lib/main.sh

	.main() {
		if ! .interactive && [[ $# -eq 0 ]]; then
			.source
		else
			.dispatch "$@"
		fi
	}

	.main "$@"
fi
